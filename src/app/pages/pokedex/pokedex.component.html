<!-- <div [@openClose]="isOpen ? 'open' : 'closed'" class="toggle-container">
    This is a toggleable element.
  </div> -->
  <!-- <button (click)="toggle()">Toggle</button> -->


<mat-grid-list [cols]="1" [rowHeight]="'100%'" *ngIf="firstLoad">
    <mat-grid-tile
      [colspan]="1"
      [rowspan]="1"
      [style.color]="'white'">
        <div class="w-full loader-container">
            <mat-spinner class="loader" [diameter]="200"></mat-spinner>
        </div>
    </mat-grid-tile>
</mat-grid-list>

<div *ngIf="!firstLoad">
    <mat-card appearance="outlined">
        <mat-card-header>
            <div class="w-full pt-20px">
                <mat-card-title>Pokedex</mat-card-title>
                <mat-card-subtitle>pokemons</mat-card-subtitle>
            </div>
            <div class="w-full">
                <button class="fr close-btn" type="button" mat-raised-button (click)="closePokedex()">Close Pokedex</button>
            </div>
        </mat-card-header>
        <div class="w-full"><mat-divider></mat-divider></div>
        <div class="w-full mt-20px">

            <mat-grid-list [cols]="4" rowHeight='80px' [gutterSize]="'20px'">
                <mat-grid-tile
                  [colspan]="1"
                  [rowspan]="1">
                    <div class="w-full">
                        <mat-form-field class="w-full">
                            <mat-label>Select Type</mat-label>
                            <mat-select (selectionChange)="filterByType($event)" [(value)]="selectedType">
                                <mat-option *ngFor="let tl of typeList" [value]="tl">{{ tl }}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </mat-grid-tile>
                <mat-grid-tile
                  [colspan]="3"
                  [rowspan]="1">
                    <div class="w-full">
                        <mat-form-field class="w-full">
                            <mat-label>Search Pokemon</mat-label>
                            <input matInput [(ngModel)]="keyWord" (keyup)="searchPokemon()">
                        </mat-form-field>
                    </div>
                </mat-grid-tile>
            </mat-grid-list>
            <mat-progress-bar mode="indeterminate" *ngIf="loading"></mat-progress-bar>

        </div>
        <div class="w-full"><mat-divider></mat-divider></div>

        <div class="card-container responsive-grid" *ngIf="pokemonList">
            <mat-card *ngFor="let pl of pokemonList" class="pokemon-card" (click)="checkStats(pl.name)">
                <p class="text-center">{{ pl.name }}</p>
                <br/>
                <div class="w-full img-container">
                    <img *ngIf="!imgStatus[pl.name]" mat-card-image src="assets/pokeball.png">
                    <img [@showImage]="!imgStatus[pl.name] ? 'closed' : 'open'" *ngIf="pokemonImages[pl.name]" [hidden]="!imgStatus[pl.name]" mat-card-image [src]="pokemonImages[pl.name]" (load)="imgLoaded(pl.name)">
                </div>
                <mat-card-content >
                    <p  class="" *ngFor="let t of pokemonType[pl.name]">
                        <button class="btn-type {{ t.type['name'] }}" type="button" mat-raised-button>{{ t.type['name'] }}</button>
                    </p>
                </mat-card-content>
            </mat-card>
        </div>

        <mat-paginator #paginator [length]="totalPage"
        [pageSize]="limit"
        (page)="triggerPaginate($event)"
        aria-label="Select page">
        </mat-paginator>
    </mat-card>
</div>